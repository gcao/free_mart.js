// Generated by CoffeeScript 1.4.0
(function() {
  var __slice = [].slice;

  window.FreeMart = (function() {

    function FreeMart() {}

    FreeMart.register = function(name, value) {
      this.providers || (this.providers = {});
      return this.providers[name] = value;
    };

    FreeMart.request = function() {
      var args, name, value;
      name = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      value = this.providers[name];
      if (typeof value === 'function') {
        return value.apply(null, args);
      } else {
        return value;
      }
    };

    FreeMart.requestAsync = function() {
      var args, deferred, name, value;
      name = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      deferred = new Deferred();
      value = this.providers[name];
      if (typeof value === 'function') {
        value.apply(null, args);
      } else {
        deferred.resolve(value);
      }
      return deferred;
    };

    return FreeMart;

  })();

}).call(this);
